<div>
    <div class="icon">
        <i class="fa fa-cart-plus"></i>
    </div>
    <span class="pageTitle"><i class="fa fa-truck"></i>配仓规则</span>

    <div class="portlet-body row">
        <!-- BEGIN FORM-->
        <form  id="newWayCommit" class="form-horizontal">
            <div class="form-body">

                <div class="divSpace" style="margin-top:18px;">

                    <div class="form-group">
                        <label class="control-label col-md-3 bold">
                            是否开启自动配仓功能：
                            <span class="required" aria-required="true">
                                *
                            </span>
                        </label>
                        <div class="col-sm-8">
                            <div class="md-radio-inline">
                                <div class="md-radio">
                                    <input type="radio" id="checkbox1_2" name="autoDis"  ng-model="warerule.ruleData.isOpen" value="0"  class="md-radiobtn">
                                    <label for="checkbox1_2">
                                        <span class="inc"></span>
                                        <span class="check"></span>
                                        <span class="box"></span>
                                        否
                                    </label>
                                </div>
                                <div class="md-radio">
                                    <input type="radio" id="checkbox1_1" name="autoDis"  ng-model="warerule.ruleData.isOpen" value="1"  class="md-radiobtn">
                                    <label for="checkbox1_1">
                                        <span class="inc"></span>
                                        <span class="check"></span>
                                        <span class="box"></span>
                                        是
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--<div class="form-group">
                        <label class="control-label col-md-3 bold">
                            自动配仓规则：
                            <span class="required" aria-required="true">
                                *
                            </span>
                        </label>
                        <div class="col-sm-8">
                            <div class="md-radio-inline">
                                <div class="md-radio" style="display: block">
                                    <input type="radio" id="checkbox1_3" name="autoRule"  ng-model="warerule.ruleData.invNotenoughAllotRule" value="0"  class="md-radiobtn">
                                    <label for="checkbox1_3">
                                        <span class="inc"></span>
                                        <span class="check"></span>
                                        <span class="box"></span>
                                        根据下单时间排序订单，库存不足时优先匹配可整单发货订单
                                    </label>
                                </div>
                                <div class="md-radio" style="display: block;margin-top: 8px;">
                                    <input type="radio" id="checkbox1_4" name="autoRule"  ng-model="warerule.ruleData.invNotenoughAllotRule" value="1"  class="md-radiobtn">
                                    <label for="checkbox1_4">
                                        <span class="inc"></span>
                                        <span class="check"></span>
                                        <span class="box"></span>
                                        根据下单时间排序订单，库存不足时优先匹配下单时间早订单
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>-->

                    <!--<div class="form-group">
                        <label class="control-label col-md-3 bold">
                            库存不足时是否允许更改发货仓库：
                            <span class="required" aria-required="true">
                                *
                            </span>
                        </label>
                        <div class="col-sm-8">
                            <div class="md-radio-inline">
                                <div class="md-radio">
                                    <input type="radio" id="checkbox1_6" name="changeWare"  ng-model="warerule.ruleData.allowChangeWarehouse" value="0"  class="md-radiobtn">
                                    <label for="checkbox1_6">
                                        <span class="inc"></span>
                                        <span class="check"></span>
                                        <span class="box"></span>
                                        否
                                    </label>
                                </div>
                                <div class="md-radio">
                                    <input type="radio" id="checkbox1_5" name="changeWare"  ng-model="warerule.ruleData.allowChangeWarehouse" value="1"  class="md-radiobtn">
                                    <label for="checkbox1_5">
                                        <span class="inc"></span>
                                        <span class="check"></span>
                                        <span class="box"></span>
                                        是
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>-->

                    <!--<div class="form-group">
                        <label class="control-label col-md-3 bold">
                            赠品库存不足时处理方式：
                            <span class="required" aria-required="true">
                                *
                            </span>
                        </label>
                        <div class="col-sm-8">
                            <div class="md-radio-inline">
                                <div class="md-radio">
                                    <input type="radio" id="checkbox1_7" name="handleWay" ng-model="warerule.ruleData.giftNotEnough"  value="0"  class="md-radiobtn">
                                    <label for="checkbox1_7">
                                        <span class="inc"></span>
                                        <span class="check"></span>
                                        <span class="box"></span>
                                        不赠送
                                    </label>
                                </div>
                                <div class="md-radio">
                                    <input type="radio" id="checkbox1_8" name="handleWay"  ng-model="warerule.ruleData.giftNotEnough" value="1"  class="md-radiobtn">
                                    <label for="checkbox1_8">
                                        <span class="inc"></span>
                                        <span class="check"></span>
                                        <span class="box"></span>
                                        单独赠送
                                    </label>
                                </div>
                                <div class="md-radio">
                                    <input type="radio" id="checkbox1_9" name="handleWay"  ng-model="warerule.ruleData.giftNotEnough" value="2"  class="md-radiobtn">
                                    <label for="checkbox1_9">
                                        <span class="inc"></span>
                                        <span class="check"></span>
                                        <span class="box"></span>
                                        等待库存充足后整单发货
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>-->

                    <div class="form-group">
                        <label class="control-label col-md-3 bold">
                            收件地区仓库优先级设置：
                            <span class="required" aria-required="true">
                                *
                            </span>
                        </label>
                        <div class="col-md-2">
                            <button type="submit" style="padding: 6px 7px 5px 7px;" class="btn blue" ng-click="warerule.toAdd()">添加设置</button>
                            <!--<button type="cancel" class="btn white"  ng-click="warerule.tod2w()">取消</button>-->
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-md-11 col-md-offset-1" style="margin-top: 9px;">
                            <div class="portlet-body">
                                <table class="table table-striped table-bordered table-hover order-column addPurchaseTable">
                                    <thead>
                                    <tr>
                                        <th style="width:10%">编号</th>
                                        <th style="width:20%">收件地区</th>
                                        <th style="width:10%">规则名称</th>
                                        <th style="width:10%">适用商品</th>
                                        <!--<th style="width:10%">优先级排序</th>-->
                                        <th style="width:10%">生效时间</th>
                                        <th style="width:10%">失效时间</th>
                                        <th style="width:10%">当前状态</th>
                                        <th style="width:15%">操作</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="list in warerule.ruleData.priorityRuleList">
                                        <td style="width:10%">{{list.wRuleId}}</td>
                                        <td style="width:20%">{{list.receiverProvinceName}}{{list.receiverCityName}}{{list.receiverDistrictName}}</td>
                                        <td style="width:10%">{{list.ruleName}}</td>
                                        <td style="width:10%">{{list.usedSpu==0?'全部商品':(list.usedSpu==1?'部分商品':'')}}</td>
                                        <!--<td style="width:10%">{{list.rulePriority}}</td>-->
                                        <td style="width:10%">{{list.effectTime}}</td>
                                        <td style="width:10%">{{list.invalidTime}}</td>
                                        <td style="width:10%">{{list.state==0?'已失效':(list.state==1?'已生效':'')}}</td>
                                        <td style="width:15%"><span class="editWareRule" ng-click="warerule.toEdit(list.wRuleId)">修改</span>&nbsp;<span class="editWareRule" ng-click="warerule.confirmDeleteShow(list.wRuleId)">删除</span></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                    </div>
                    </div>
                </div>
            </div>

            <div class="form-actions">
                <div class="row">
                    <div class="col-md-offset-5 col-md-9">
                        <button type="submit" class="btn blue" ng-click="warerule.saveAllotRule()">保存</button>
                        <!--<button type="cancel" class="btn white"  ng-click="warerule.tod2w()">取消</button>-->
                    </div>
                </div>
            </div>
        </form>
        <!-- END FORM-->
    </div>

</div>

<div class="modal fade" id="confirmDelete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog" style="margin-top:180px;width: 500px">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close"
                        data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title">
                    <i class="fa fa-hand-pointer-o" style="margin-right: 10px;"></i>确认
                </h4>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    确定删除？
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default"
                        data-dismiss="modal">关闭
                </button>
                <button type="button" class="btn btn-primary" ng-click="warerule.confirmDelete()">
                    确定
                </button>
            </div>
        </div>
    </div>
</div>


