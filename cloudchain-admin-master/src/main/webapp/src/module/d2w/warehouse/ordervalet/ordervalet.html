<div>
    <span class="pageTitle"><i class="fa fa-truck"></i>代客下单</span>

    <div class="portlet-body row">
        <!-- BEGIN FORM-->
        <!--<form  id="newWayCommit" class="form-horizontal">-->
            <div class="form-body">

                <div class="divSpace" style="margin-top:18px;">
                    <div class="form-group">
                        <label class="control-label col-sm-1" style="font-weight: bold;font-size: 15px;text-align: left;">选择货主
                            <!--<i class="fa fa-plus" style="font-size: 18px;color: #909090;margin-left: 10px;cursor: pointer" ng-click="ordervalet.addCustomer()"></i>-->
                        </label>
                        <div class="col-sm-3">
                            <select-table st-combo="test()" st-text="ordervalet.placeholder_ownerName"
                                          st-icon="ordervalet.icon_owner"
                                          st-value="ordervalet.ownerEntity.getSelectedRows()[0].nick_name">
                                <table-expandable table-column="ordervalet.ownerColumn"
                                                  table-page="ordervalet.ownerPage()"
                                                  table-data="ordervalet.ownerData"
                                                  table-conf="ordervalet.ownerParams"
                                                  self-page="true"
                                                  entity="ordervalet.ownerEntity">
                                </table-expandable>
                            </select-table>
                        </div>
                    </div>
                </div>

                <div class="divSpace" style="margin-top:18px;">
                    <div class="form-group">
                        <label class="control-label col-sm-12" style="font-weight: bold;font-size: 15px;text-align: left;">选择仓源
                            <i class="fa fa-plus" style="font-size: 18px;color: #909090;margin-left: 10px;cursor: pointer" ng-click="ordervalet.addWarehouse()"></i>
                        </label>
                    </div>

                    <div id="houseInfo" style="display: none">
                        <div class="form-group" id="warehouseInfo">
                            <label class="textHouse">
                                仓库地址：
                            </label>
                            <div class="textInput d2wtext">
                                <span>{{ordervalet.houseInfo.provinceName}}{{ordervalet.houseInfo.cityName}}{{ordervalet.houseInfo.districtName}}{{ordervalet.houseInfo.address}}</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="textHouse">
                                库区类型：
                            </label>
                            <div class="textInput d2wtext">
                                <span>{{ordervalet.houseInfo.warehouseAreaType==01?"普通":(ordervalet.houseInfo.warehouseAreaType==02?"冷藏":(ordervalet.houseInfo.warehouseAreaType==03?"恆溫":(ordervalet.houseInfo.warehouseAreaType==04?"特种":(ordervalet.houseInfo.warehouseAreaType==05?"气调":""))))}}</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="textHouse">
                                服务需求：
                            </label>
                            <div class="textInput d2wtext">
                                <span>{{ordervalet.serviceRequest==0?"仓储租赁":(ordervalet.serviceRequest==1?"货物保管":"")}}</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="divSpace row" id="orderInfo" style="margin-top:18px;display:none;height: auto;">
                    <div ng-if="ordervalet.serviceRequest==1">

                        <div class="form-group">
                            <label class="control-label col-sm-12" style="font-weight: bold;font-size: 15px;text-align: left;">订单信息
                            </label>
                        </div>

                        <div class="form-group">
                            <label class="textHouse">
                                计算单位：
                            </label>
                            <div class="textInput d2wtext">
                                <span>{{ordervalet.houseInfo.keepUnit==0?"按吨":(ordervalet.houseInfo.keepUnit==1?"按件":(ordervalet.houseInfo.keepUnit==2?"按库位":(ordervalet.houseInfo.keepUnit==3?"按面积":(ordervalet.houseInfo.unit==4?"":""))))}}</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="textHouse">
                                单价：
                            </label>
                            <div class="textInput d2wtext">
                                <span>{{ordervalet.houseInfo.keepPrice/100}}元</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="textHouse">
                                计费规则：
                            </label>
                            <div class="textInput d2wtext">
                                <span>{{ordervalet.houseInfo.chargingRule==0?"按周期收取":(ordervalet.houseInfo.chargingRule==1?"按每天收取":(ordervalet.houseInfo.chargingRule==2?"按月收取":(ordervalet.houseInfo.chargingRule==3?"":(ordervalet.houseInfo.chargingRule==4?"":""))))}}</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="textHouse">
                                开始时间：
                            </label>
                            <div class="textInput goodsBeginTime" style="width: 248px;">
                                <single-time-picker></single-time-picker>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="textHouse">
                                结束时间：
                            </label>
                            <div class="textInput goodsEndTime" style="width: 248px;">
                                <single-time-picker></single-time-picker>
                            </div>
                        </div>

                        <div class="form-group" style="height: auto;">
                            <label class="textHouse">
                                备注：
                            </label>
                            <div class="textInput d2wtext">
                                <textarea class="form-control goodsRemarks" name="goodsRemarks" rows="3" style="resize: none;" placeholder="200个字符以内"></textarea>
                            </div>
                        </div>

                        <div>
                            <span class="goodstips"></span>
                        </div>

                    </div>

                    <div ng-if="ordervalet.serviceRequest==0">
                        <div class="form-group">
                            <label class="control-label col-sm-12" style="font-weight: bold;font-size: 15px;text-align: left;">订单信息
                            </label>
                        </div>

                        <div class="form-group">
                            <label class="textHouse">
                                计费规则：
                            </label>
                            <div class="textInput d2wtext">
                                <span>{{ordervalet.houseInfo.chargingRule==0?"按周期收取":(ordervalet.houseInfo.chargingRule==1?"按每天收取":(ordervalet.houseInfo.chargingRule==2?"按月收取":(ordervalet.houseInfo.chargingRule==3?"":(ordervalet.houseInfo.chargingRule==4?"":""))))}}</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="textHouse">
                                单价：
                            </label>
                            <div class="textInput d2wtext">
                                <span>{{ordervalet.houseInfo.rentPrice/100}}元</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="textHouse">
                                所需库容：
                            </label>
                            <div class="textInput" style="width: 248px;">
                                <div class="input-group">
                                    <input type="number" name="wareCum" min="0" data-required="1" class="form-control" onKeyUp="value=value.replace(/[^\d+(\-\d+)?$]/g,'')"/>
                                    <span class="input-group-addon">{{ordervalet.houseInfo.unit==0?"吨":(ordervalet.houseInfo.unit==1?"件":(ordervalet.houseInfo.unit==2?"库位":(ordervalet.houseInfo.unit==3?"平方":(ordervalet.houseInfo.unit==4?"":""))))}}</span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="textHouse">
                                开始时间：
                            </label>
                            <div class="textInput wareBeginTime" style="width: 248px;">
                                <single-time-picker callback="ordervalet.test()";></single-time-picker>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="textHouse">
                                结束时间：
                            </label>
                            <div class="textInput wareEndTime" style="width: 248px;">
                                <single-time-picker></single-time-picker>
                            </div>
                        </div>

                        <div class="form-group" style="height: auto;">
                            <label class="textHouse">
                                备注：
                            </label>
                            <div class="textInput d2wtext">
                                <textarea class="form-control wareRemarks" name="wareRemarks" rows="3" style="resize: none;" placeholder="200个字符以内"></textarea>
                            </div>
                        </div>

                    </div>

                </div>
                <!--</div>-->
            <!--</div>-->
            <div class="form-actions">
                <div class="row">
                    <div class="col-md-offset-3 col-md-9">
                        <button type="submit" class="btn blue" ng-click="ordervalet.submit()">下单</button>
                    </div>
                </div>
            </div>
    </div>



</div>

</div>


<div class="modal fade" id="selectWarehouse" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog" style="margin-top:180px;min-width: 1000px;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close"
                        data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title">
                    <i class="fa fa-plus" style="margin-right: 10px;"></i>仓源
                </h4>
            </div>
            <div class="modal-body">

                <table-expandable table-column="ordervalet.column"  table-page="ordervalet.getWarehouse()" table-data="ordervalet.data" table-conf="ordervalet.pageWarehouseParams"  entity="ordervalet.entity" self-page="false">
                </table-expandable>


            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default"
                        data-dismiss="modal">关闭
                </button>
                <button type="button" class="btn btn-primary" ng-click="ordervalet.confirmWarehouse()">
                    选择
                </button>
            </div>
        </div>
    </div>
</div>